{{ define "todo-list" }}
{{ template "layout-view" }}
<div class="container">
    <h2>Create New Todo</h2>
    <form action="/api/todos/create" method="POST">
        <div class="form-group">
            <label for="description">Description</label>
            <input type="text" id="description" name="description" placeholder="Enter todo description" required>
        </div>
        <button type="submit">Add Todo</button>
    </form>

    {{ if .Todos }}
    <div class="todo-list">
        {{ range .Todos }}
        <div class="todo-item" style="display: flex; align-items: center; gap: 10px;">
            <!-- Checkbox to update status -->
            <form action="/api/todos/update/{{ .ID }}" method="POST" style="margin: 0;">
                <input type="checkbox" name="status" value="done" {{ if eq .TodoStatus "done" }}checked{{ end }} onclick="this.form.submit()">
            </form>
            <!-- Description -->
            <span>{{ .Description }}</span>
            <!-- Status -->
            <span class="status {{ if eq .TodoStatus "done" }}status-done{{ else }}status-progress{{ end }}">
                {{ .TodoStatus }}
            </span>
        </div>
        {{ end }}
    </div>
    {{ else }}
    <p>No todos found.</p>
    {{ end }}
</div>
{{ end }}